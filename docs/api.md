# Запросы

## Сообщения

### /get/fanfics

##### Информация
Получаем список фанфиков.

###### URL
    /get/fanfics
###### Аргументы

- `fandom_filter` - фильтр фандомов. Используется для поиска ориджиналов.
- `fandoms` - фандомы. Не учитывается, если `fandom_filter` присвоено значение.
- `tags` - тэги.
- `page` - номер страницы. *По-умолчанию первая*.
- `direction` - направление.
- `rating` - рэйтинг.
- `size` - размер фанфика.
- `limit` - сколько фанфиков необходимо получить (лимит - 20).
- `scope` - список скоупов.
**Примечание:** поиск работает только тогда, когда дан хотя бы один из данных аргументов: `fandom_filter`, `fandoms`, `tags`.

###### Скоупы

* `title` - получаем название фанфика. 
* `author` - получаем ID автора.
* `description` - получаем описание фанфика.

###### Ответ

В ответ мы получаем JSON объект:
```javascript
// localhost:8080/get/fanfics?tags=1337228,2281337&page=1&scope=title,author,description
{
    "fanfics": [
        {
            "author": 126536518723598158,
            "description": "Анек про медведя и машину.",
            "id": 58736595178903519875487,
            "title": "Горячий медведь"
        },
		...
	]
}
```
### /get/fanfic

##### Информация
Получаем фанфик, список страниц фанфика или конкретную страницу.

###### URL
    /get/fanfic
###### Аргументы

- `id` - ID фанфика **(обязательно)**.
- `page` - ID страницы фанфика.
- `scope` - список скоупов.

###### Скоупы

* `title` - получаем название фанфика. 
* `author` - получаем ID автора.
* `description` - получаем описание фанфика.
* `page_title` - получаем название глав(ы).

###### Ответ

В ответ мы получаем JSON объект.

Пример вывода, если фанфик состоит только из одной страницы:
```javascript
// localhost:8080/get/fanfic?id=1241421341243&scope=title,author,description,page_title
{
    "author": "23414124134",
    "description": "ставь лайк если любишь маму",
    "text": "грустное говно ползёт от него говной несёт",
    "title": "Крутой фанфик"
}
```

Пример вывода, если фанфик состоит из нескольких страниц, но страница не указана:
```javascript
// localhost:8080/get/fanfic?id=2132412341&scope=title,author,description,page_title
{
    "author": "341234141",
    "description": "Фанфик, под который удобно ебать чугун.",
    "pages": {
        "0": {
            "id": "12412413412",
            "title": "аааа блять ооооооооо"
        },
        "1": {
            "id": "3412351",
            "title": "моча съела говно"
        }
    },
    "title": "ы"
}
```
Пример вывода, если фанфик состоит из нескольких страниц, а также указан ID страницы:
```javascript
// localhost:8080/get/fanfic?id=1241421341243&page=12412413412&scope=title,author,description,page_title
{
    "author": "341234141",
    "description": "Фанфик, под который удобно ебать чугун.",
    "text": "раз два три четыре пять шесть семь восемь эй я ебал вас в рот у я ебал вас в рот а я ебал вас в рот у я ебал вас в рот скрр я ебал вас в рот ААААААААА я ебал вас в рот ы я ебал вас в рот ы я ебал вас в рот всё",
    "title": "ы"
}
```